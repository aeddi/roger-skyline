---

mail_services:
  - { name: postfix, process: [ postfix, master, qmgr, tlsmgr, pickup, stmpd, stmp ] }
  - { name: dovecot, process: [ dovecot, anvil, log ]}
  - { name: saslauthd, process: saslauthd }
  - { name: mailscanner, process: mailscanner }

mail_packages:
  - postfix
  - postfix-ldap
  - postfix-pcre
  - dovecot-core
  - dovecot-imapd
  - dovecot-ldap
  - dovecot-lmtpd
  - dovecot-pop3d
  - libauthen-sasl-perl
  - libsasl2-2:ppc64el
  - libsasl2-modules:ppc64el
  - libsasl2-modules-db:ppc64el
  - sasl2-bin

mail_redundent_packages: [bsd-mailx, exim4, exim4-base, exim4-config, exim4-daemon-light]

mail_system_groups:
  - { name: mail, gid: 8 }
  - { name: sasl, gid: 45 }
  - { name: dovecot, gid: 117 }
  - { name: dovenull, gid: 118 }
  - { name: postfix, gid: 119 }
  - { name: postdrop, gid: 120 }
  - { name: vmail, gid: 5000 }

mail_system_users:
  - { name: mail, uid: 8, homedir: /var/mail, shell: /usr/sbin/nologin, createhome: no, groups: }
  - { name: dovecot, uid: 110, group: dovecot, homedir: /usr/lib/dovecot, shell: /usr/sbin/nologin, createhome: no, groups: }
  - { name: dovenull, uid: 112, group: dovenull, homedir: /nonexistent, shell: /usr/sbin/nologin, createhome: no, groups: }
  - { name: postfix, uid: 113, group: postfix, homedir: /var/spool/postfix, shell: /usr/sbin/nologin, createhome: no, groups: }
  - { name: vmail, uid: 5000, group: vmail, homedir: /srv/vmail, shell: /usr/sbin/nologin, createhome: no, groups: sasl }

postfix_hashmaps:
  - /etc/postfix/virtual_aliases
  - /etc/postfix/virtual_domains

# src: ansible role relative path
 mail_config_files:
# SALSHAUTHD ------------------------------------------------------------------------
  - { src: etc/saslauthd.conf, dest: /etc/saslauthd.conf, owner: root, group: root, mode: 0600 }
  - { src: etc/default/saslauthd, dest: /etc/default/saslauthd, owner: root, group: root, mode: 0644 }
# POSTFIX ------------------------------------------------------------------------
  - { src: etc/postfix/certs/dh_1024.pem, dest: /etc/postfix/certs/dh_1024.pem, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/certs/dh_512.pem, dest: /etc/postfix/certs/dh_512.pem, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/sasl/smtpd.conf, dest: /etc/postfix/sasl/smtpd.conf, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/drop.cidr, dest: /etc/postfix/drop.cidr, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/header_checks, dest: /etc/postfix/header_checks, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/body_checks, dest: /etc/postfix/body_checks, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/ldap_virtual_recipients.cf, dest: /etc/postfix/ldap_virtual_recipients.cf, owner: root, group: postfix, mode: 0640 }
  - { src: etc/postfix/ldap_virtual_aliases.cf, dest: /etc/postfix/ldap_virtual_aliases.cf, owner: root, group: postfix, mode: 0640 }
  - { src: etc/postfix/master.cf, dest: /etc/postfix/master.cf, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/virtual_aliases, dest: /etc/postfix/virtual_aliases, owner: root, group: root, mode: 0644 }
  - { src: etc/postfix/virtual_domains, dest: /etc/postfix/virtual_domains, owner: root, group: root, mode: 0644 }
# DOVECOT ------------------------------------------------------------------------
  - { src: etc/dovecot/dovecot.conf, dest: /etc/dovecot/dovecot.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/dovecot-ldap.conf.ext, dest: /etc/dovecot/dovecot-ldap.conf.ext, owner: root, group: root, mode: 600 }
  - { src: etc/dovecot/conf.d/10-director.conf, dest: /etc/dovecot/conf.d/10-director.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-system.conf.ext, dest: /etc/dovecot/conf.d/auth-system.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/15-lda.conf, dest: /etc/dovecot/conf.d/15-lda.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/20-pop3.conf, dest: /etc/dovecot/conf.d/20-pop3.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-vpopmail.conf.ext, dest: /etc/dovecot/conf.d/auth-vpopmail.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-mail.conf, dest: /etc/dovecot/conf.d/10-mail.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/15-mailboxes.conf, dest: /etc/dovecot/conf.d/15-mailboxes.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-master.conf.ext, dest: /etc/dovecot/conf.d/auth-master.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/90-acl.conf, dest: /etc/dovecot/conf.d/90-acl.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-static.conf.ext, dest: /etc/dovecot/conf.d/auth-static.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/20-lmtp.conf, dest: /etc/dovecot/conf.d/20-lmtp.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-ssl.conf, dest: /etc/dovecot/conf.d/10-ssl.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-tcpwrapper.conf, dest: /etc/dovecot/conf.d/10-tcpwrapper.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-deny.conf.ext, dest: /etc/dovecot/conf.d/auth-deny.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-sql.conf.ext, dest: /etc/dovecot/conf.d/auth-sql.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-checkpassword.conf.ext, dest: /etc/dovecot/conf.d/auth-checkpassword.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-auth.conf, dest: /etc/dovecot/conf.d/10-auth.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-master.conf, dest: /etc/dovecot/conf.d/10-master.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/90-quota.conf, dest: /etc/dovecot/conf.d/90-quota.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/10-logging.conf, dest: /etc/dovecot/conf.d/10-logging.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-passwdfile.conf.ext, dest: /etc/dovecot/conf.d/auth-passwdfile.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/90-plugin.conf, dest: /etc/dovecot/conf.d/90-plugin.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/20-imap.conf, dest: /etc/dovecot/conf.d/20-imap.conf, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-ldap.conf.ext, dest: /etc/dovecot/conf.d/auth-ldap.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/conf.d/auth-dict.conf.ext, dest: /etc/dovecot/conf.d/auth-dict.conf.ext, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/dovecot-sql.conf.ext, dest: /etc/dovecot/dovecot-sql.conf.ext, owner: root, group: dovecot, mode: 640 }
  - { src: etc/dovecot/dovecot-dict-auth.conf.ext, dest: /etc/dovecot/dovecot-dict-auth.conf.ext, owner: root, group: dovecot, mode: 640 }
  - { src: etc/dovecot/README, dest: /etc/dovecot/README, owner: root, group: root, mode: 644 }
  - { src: etc/dovecot/dovecot-dict-sql.conf.ext, dest: /etc/dovecot/dovecot-dict-sql.conf.ext, owner: root, group: dovecot, mode: 641 }
# MailScanner / spamassassin / razor / pyzor

...
